# ========================================
# Pacman Configuration
# ========================================

[options]
# ========================================
# Basic Options
# ========================================
LogFile =
CleanMethod = KeepCurrent
Architecture = auto
Architecture = x86_64_v3 x86_64
# Architecture = x86_64_v3 x86_64_v2 x86_64

# ========================================
# Download Configuration
# ========================================
# Faster parallel downloads with aria2c
# https://wiki.archlinux.org/title/Pacman/Tips_and_tricks#aria2
# https://bbs.archlinux.org/viewtopic.php?id=192072
XferCommand = /usr/bin/aria2c -q -x 3 -s 7 -j 7 --event-poll=epoll -R --max-tries=5 -t 15 -allow-overwrite=true -c -d %o -o %f %u
# Alternative: curl-rustls for faster downloads
# XferCommand = /usr/bin/curl-rustls -L -C - -f -o %o %u

# ========================================
# NoExtract - Optimize Package Size
# ========================================
# Install only English content to save disk space
# https://wiki.archlinux.org/title/Pacman/Tips_and_tricks#Installing_only_content_in_required_languages

# Locale files (keep only English)
NoExtract = !*locale*/en*/* !usr/share/*locale*/locale.*
NoExtract = !usr/share/*locales/C !usr/share/*locales/POSIX
NoExtract = !usr/share/*locales/en_?? !usr/share/*locales/i18n* !usr/share/*locales/iso*
NoExtract = !usr/share/*locales/trans*
NoExtract = !usr/share/X11/locale/compose.dir !usr/share/X11/locale/iso8859-1/*
NoExtract = usr/share/locale/* usr/share/X11/locale/*/* usr/share/i18n/locales/* opt/google/chrome/locales/* !usr/share/X11/locale/C/* !usr/share/X11/locale/en_US.UTF-8/*

# Browser telemetry and crash reporters
NoExtract = /usr/lib/firefox/crashreporter
NoExtract = /usr/lib/firefox/minidump-analyzer
NoExtract = /usr/lib/firefox/pingsender
NoExtract = /usr/lib/librewolf/pingsender

# OnlyOffice locales (keep only English)
NoExtract = opt/onlyoffice/desktopeditors/converter/empty/*/* !opt/onlyoffice/desktopeditors/converter/empty/en-US/*
NoExtract = opt/onlyoffice/desktopeditors/converter/templates/*/* !opt/onlyoffice/desktopeditors/converter/templates/EN/*
NoExtract = opt/onlyoffice/desktopeditors/dictionaries/* !opt/onlyoffice/desktopeditors/dictionaries/en_US/*
NoExtract = opt/onlyoffice/desktopeditors/editors/web-apps/apps/*/main/locale/* !*/en.json
NoExtract = opt/onlyoffice/desktopeditors/editors/web-apps/apps/*/main/resources/help/*/* !*/help/en/*
NoExtract = opt/onlyoffice/desktopeditors/editors/web-apps/apps/*/main/resources/symboltable/* !*/en.json
NoExtract = opt/onlyoffice/desktopeditors/editors/web-apps/apps/documenteditor/forms/locale/* !*/en.json
NoExtract = opt/onlyoffice/desktopeditors/editors/web-apps/apps/spreadsheeteditor/main/resources/formula-lang/* !*/en.json !*/en_desc.json

# LibreOffice help files
NoExtract = usr/lib/libreoffice/help/en-US/*

# Application locales (keep only English)
NoExtract = usr/share/*/locales/*.pak opt/*/locales/*.pak usr/lib/*/locales/*.pak !*/en-US.pak
NoExtract = usr/share/*/translations/*.qm !usr/share/*/translations/*en.qm usr/share/*/nls/*.qm usr/share/qt/phrasebooks/*.qph usr/share/qt/translations/*.pak !*/en-US.pak

# Documentation
NoExtract = usr/share/doc/*
NoExtract = usr/share/doc/HTML/*
NoExtract = usr/share/gtk-doc/html/*
NoExtract = usr/share/info/*

# Charset and encoding (keep only UTF-8 and ASCII)
NoExtract = usr/share/i18n/charmaps/* !usr/share/i18n/charmaps/UTF-8.gz !usr/share/i18n/charmaps/ANSI_X3.4-1968.gz

# Emoji dictionaries (keep only English)
NoExtract = usr/share/ibus/dicts/emoji-*.dict !usr/share/ibus/dicts/emoji-en.dict

# Man pages (keep all man sections)
NoExtract = usr/share/man/* !usr/share/man/man*

# Vim language files
NoExtract = usr/share/vim/vim*/lang/*

# ========================================
# Pacman Behavior
# ========================================
# UseSyslog
Color
ILoveCandy
# NoProgressBar
CheckSpace
VerbosePkgLists
DisableDownloadTimeout
ParallelDownloads = 10

# ========================================
# Repository Configuration
# ========================================

# CachyOS v3 optimized repositories
[cachyos-v3]
Include = /etc/pacman.d/cachyos-v3-mirrorlist

[cachyos-core-v3]
Include = /etc/pacman.d/cachyos-v3-mirrorlist

[cachyos-extra-v3]
Include = /etc/pacman.d/cachyos-v3-mirrorlist

[cachyos]
Include = /etc/pacman.d/cachyos-mirrorlist

# ALHP x86-64-v3 optimized core repository
[core-x86-64-v3]
Include = /etc/pacman.d/alhp-mirrorlist

[core]
Include = /etc/pacman.d/mirrorlist

# ALHP x86-64-v3 optimized extra repository
[extra-x86-64-v3]
Include = /etc/pacman.d/alhp-mirrorlist

[extra]
Include = /etc/pacman.d/mirrorlist

# ALHP x86-64-v3 optimized multilib repository
[multilib-x86-64-v3]
Include = /etc/pacman.d/alhp-mirrorlist

[multilib]
Include = /etc/pacman.d/mirrorlist

# Chaotic-AUR repository
[chaotic-aur]
Include = /etc/pacman.d/chaotic-mirrorlist

# Artafinde repository
[artafinde]
Server = https://pkgbuild.com/~artafinde/repo

# Xyne x86_64 repository
[xyne-x86_64]
SigLevel = Required
Server = https://xyne.dev/repos/xyne
