[settings]
experimental = true
auto_install = true
color = true
python_venv_auto_create = true
gix = true
go_skip_checksum = true
exec_auto_install = true
lockfile = true
not_found_auto_install = true
task_run_auto_install = true
yes = true
activate_aggressive = false
jobs = 8

[settings.npm]
bun = true

[settings.python]
venv_auto_create = true
uv_venv_auto = true
compile = true
precompiled_os = "x86_64_v3"
venv_create_args = ["--system-site-packages"]

[settings.pipx]
uvx = true

[settings.cargo]
binstall = false

[settings.node]
compile = true

[tools]
#rust = { version = "nightly", profile = "minimal", components = "rust-src,llvm-tools,llvm-bitcode-linker,rust-analyzer", targets = "x86_64-unknown-linux-gnu,wasm32-unknown-unknown }
java = "oracle-graalvm" #java = "temurin"
"cargo:cargo-alias-exec" = "latest"
"cargo:cargo-syu" = "latest"
"cargo:image-find" = "latest"
"cargo:rimage" = { version = "latest", features = "build-binary", default-features = true }
"cargo:image-optimizer" = "latest"
"cargo:imgc" = "latest"
"cargo:icu_tool" = "latest"
"cargo:compresscli" = "latest"
"cargo:ffzap" = "latest"
"cargo:ab-av1" = "latest"
"cargo:minhtml" = "latest"
"cargo:mpatch" = "latest"
"cargo:fdf" = "latest"
"cargo:frep" = "latest"
"cargo:ripuniq" = "latest"
"cargo:caligula" = "latest"
"cargo:roxide" = "latest"
"cargo:https://github.com/fthomys/update-alternatives" = "latest"
"cargo:https://github.com/Blobfolio/flaca" = "latest"
"cargo:etchdns" = "latest"
"cargo:rmz" = "latest"
"cargo:cpz" = "latest"
"cargo:dedup" = "latest"
"cargo:nvidia_oc" = "latest"
"cargo:shell-mommy" = "latest"
"cargo:cargo-mommy" = "latest"
"github:zeroBzeroT/ChunkCleaner" = "latest"

[env]
_.python.venv = { path = "{{env.HOME}}/.venv", create = true, uv_create_args = ["--system-site-packages", "--seed"] }
#_.python.venv = { path = ".venv", create = true, uv_create_args = ['--seed'] }
DO_NOT_TRACK = "1"
MISE_NODE_NINJA = "true"
MISE_NODE_CONCURRENCY = "12"
CARGO_HTTP_MULTIPLEXING = "true"
UV_LINK_MODE = "hardlink"

[tasks.clean]
depends = ['cleancache']
run = "cargo cache -efg; cargo clean"
hide = true

[tasks.cleancache]
run = "rm -rf ~/.cache/*"
hide = true

[tasks.bunx]
description = 'Bunx'
run = "bunx --bun"
alias = 'bx'

[tasks.cbin]
description = 'Mise cargo-binstall use'
run = "env MISE_CARGO_BINSTALL=true mise use -gy"

[tasks."lint:eslint"]
run = "eslint ."

[tasks."lint:prettier"]
run = "prettier --check ."

[tasks.lint]
depends = ["lint:*"]
wait_for = ["render"] 
