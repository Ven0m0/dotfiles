"$schema" = 'https://starship.rs/config-schema.json'

format = """
$username$directory\
${custom.git_repo}\
$hostname\
$localip\
 $sudo\
$shell\
${custom.yazi_level}\
$time\
$character
"""

right_format = "${custom.mommy}"

scan_timeout = 50
command_timeout = 250
add_newline = false
follow_symlinks = false

# Customize the prompt symbol
[character]
success_symbol = '[>](bold green) '
error_symbol = '[x](bold red) '

[directory]
style = "purple"
truncate_to_repo = true
fish_style_pwd_dir_length = 3
truncation_length = 3
truncation_symbol = "…/"
home_symbol = '~'
format = '[$path]($style)[$read_only]($read_only_style)'

[username]
disabled = false
show_always = false
format = '[$user]($style)@'

[hostname]
ssh_only = true
disabled = false
trim_at = '.'

[localip]
ssh_only = true
disabled = false

[sudo]
disabled = false
style = 'bold red'

[time]
disabled = false
use_12hr = false
time_format = "%H:%M"
utc_time_offset = "local"
time_range = "-"

[git_branch]
disabled = true
truncation_length = 4
truncation_symbol = ''

[git_status]
format = '([\[$all_status$ahead_behind\]]($style) )'
disabled = true
use_git_executable = true
ignore_submodules = true
ahead = '⇡${count}'
diverged = '⇕⇡${ahead_count}'
behind = '⇣${count}'
modified = '!${count}'
untracked = '?${count}'

[package]
disabled = true
format = 'via $version(208 bold)'

[bun]
disabled = true
format = 'via [🍔 $version](bold green) '
detect_files = ['bun.lock', 'bun.lockb', 'bunfig.toml', 'package.json', 'package-lock.json']
detect_folders = ['.bun']

[mise]
disabled = true

[status]
disabled = false
symbol = "✖ "
format = '[$symbol$status$custom]($style)'

[shell]
disabled = false
format = '[$indicator]($style)'
style = "cyan"
bash_indicator = ' bsh'
fish_indicator = ' fsh'
zsh_indicator = ' zsh'
ion_indicator = ' ion'
unknown_indicator = ''

# https://github.com/fwdekker/mommy
[custom.mommy]
disabled = false
style = "red"
command = "mommy -1 -s $status"
when = "true >/dev/null 2>&1"

# Git repo name
[custom.git_repo]
disabled = false
command = "basename $(git rev-parse --show-toplevel 2>/dev/null || echo '')"
when = "git rev-parse --is-inside-work-tree >/dev/null 2>&1"
require_repo = true
style = "bold magenta"
format = " [$output]($style)"

[custom.yazi_level]
disabled = false
description = "Indicate the shell was launched by `yazi`"
variable = "YAZI_LEVEL"
symbol = "🦆"
format = '[ $symbol ]($style)'
